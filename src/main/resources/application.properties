# \u914D\u7F6E\u4E0D\u540C\u7684\u6570\u636E\u6E90
spring.shardingsphere.datasource.names=ds1,ds2

#\u914D\u7F6Eds1\u6570\u636E\u6E90\u7684\u57FA\u672C\u4FE1\u606F
spring.shardingsphere.datasource.ds1.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.ds1.driver-class-name=com.mysql.jdbc.Driver
spring.shardingsphere.datasource.ds1.url=jdbc:mysql://127.0.0.1:3306/sharding_sphere_1?serverTimezone=UTC
spring.shardingsphere.datasource.ds1.username=root
spring.shardingsphere.datasource.ds1.password=123456

#\u914D\u7F6Eds2\u6570\u636E\u6E90\u7684\u57FA\u672C\u4FE1\u606F
spring.shardingsphere.datasource.ds2.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.ds2.driver-class-name=com.mysql.jdbc.Driver
spring.shardingsphere.datasource.ds2.url=jdbc:mysql://127.0.0.1:3306/sharding_sphere_2?serverTimezone=UTC
spring.shardingsphere.datasource.ds2.username=root
spring.shardingsphere.datasource.ds2.password=123456

#\u914D\u7F6E\u516C\u5171\u8868
spring.shardingsphere.sharding.broadcast-tables=dict_order_type
spring.shardingsphere.sharding.tables.dict_order_type.key-generator.column=id
spring.shardingsphere.sharding.tables.dict_order_type.key-generator.type=SNOWFLAKE

#\u6307\u5B9A\u6570\u636E\u5E93\u7684\u5206\u5E03\u60C5\u51B5
spring.shardingsphere.sharding.tables.orders.actual-data-nodes=ds$->{1..2}.orders_$->{1..2}

#\u6307\u5B9Aorders\u8868\u7684\u4E3B\u952E\u751F\u6210\u7B56\u7565
spring.shardingsphere.sharding.tables.orders.key-generator.column=id
spring.shardingsphere.sharding.tables.orders.key-generator.type=SNOWFLAKE

#\u6307\u5B9A\u8868\u5206\u7247\u7B56\u7565\uFF0C\u6839\u636Eid\u7684\u5947\u5076\u6027\u6765\u6DFB\u52A0\u5230\u4E0D\u540C\u7684\u8868\u4E2D
spring.shardingsphere.sharding.tables.orders.table-strategy.inline.sharding-column=id
spring.shardingsphere.sharding.tables.orders.table-strategy.inline.algorithm-expression=orders_$->{id%2+1}

#\u6307\u5B9A\u5E93\u5206\u7247\u7B56\u7565\uFF0C\u6839\u636Ecustomer_id\u7684\u5947\u5076\u6027\u6765\u6DFB\u52A0\u5230\u4E0D\u540C\u7684\u5E93\u4E2D
spring.shardingsphere.sharding.tables.orders.database-strategy.inline.sharding-column=customer_id
spring.shardingsphere.sharding.tables.orders.database-strategy.inline.algorithm-expression=ds$->{customer_id%2+1}

#\u6253\u5F00sql\u8F93\u51FA\u65E5\u5FD7
spring.shardingsphere.props.sql.show=true